<!DOCTYPE html>
<html>
<head>
  <title>Camera Demo</title>
</head>
<body>
  <h2>Webcam Recording (Educational Demo)</h2>
  <video id="video" width="400" height="300" autoplay></video>
  <button id="startBtn">Start Recording</button>
  <button id="stopBtn">Stop Recording</button>

  <script>
    const video = document.getElementById('video');
    let mediaRecorder;
    let recordedChunks = [];

    async function startCamera() {
      try {
        const stream = await navigator.mediaDevices.getUserMedia({
          video: { facingMode: "user" }, audio: true
        });
        video.srcObject = stream;
        mediaRecorder = new MediaRecorder(stream);

        mediaRecorder.ondataavailable = event => recordedChunks.push(event.data);
        mediaRecorder.onstop = () => {
          const blob = new Blob(recordedChunks, { type: "video/mp4" });
          const url = URL.createObjectURL(blob);
          const a = document.createElement("a");
          a.href = url;
          a.download = "recorded-video.mp4";
          a.click();
        };

      } catch (error) {
        alert("Camera Permission Denied");
      }
    }

    document.getElementById("startBtn").onclick = () => mediaRecorder.start();
    document.getElementById("stopBtn").onclick = () => mediaRecorder.stop();

    startCamera();
  </script>
</body>
</html>
